* DSP MERES - VASS GABOR ES TOTH BALINT - III.EVF. INFO, 1995
* FIR4.ASM
* ELOZO 4 MINTA SZAMTANI KOZEPE

PRD	EQU 3		* BELSO ORA CIKLUSA
IMR	EQU 4		* IT MASZK
GREQ	EQU 5		* LOKALIS ES GLOBALIS MEMORIA HATARA

YN	EQU 0		* 6-OS LAP SEGEDVALTOZOI
XN	EQU 1
XNM1	EQU 2
XNM2	EQU 3
XNM3	EQU 4

	AORG 0
	B SETUP		* RESET HATASARA

	AORG >18
	B TINT		* BELSO TIMER IT RUTIN CIME

	AORG >20
SETUP	EQU $
	DINT		* IT TILTAS
	LDPK 0		* 0-AS ADATLAP
	LALK >80
	SACL GREQ	* >80 LOKALIS, FELETTE GLOBALIS MEM.
	LACK >08
	SACL IMR	* BELSO ORA IT ENGEDELYEZES
	LALK +999
	SACL PRD	* BELSO ORA INIT (10KHZ MINTA)
	LDPK 6		* 6-OS ADATLAP
	EINT		* IT ENGEDELYEZES

WAIT	IDLE		* VEGTELEN CIKLUS
	B WAIT

TINT	EQU $		* IT RUTIN: A FELDOLGOZAS 
	IN XN,PA2	* A/D OLVASASA

	ZAC
	LT XNM3
	MPYK 1
	LTD XNM2
	MPYK 1
	LTD XNM1
	MPYK 1
	LTD XN
	MPYK 1 
	APAC
	SFR
	SFR
	SACL YN

	OUT YN,PA2	* KIMENET IRASA
	OUT YN,PA7	* TRIGGER
	RET

	END
